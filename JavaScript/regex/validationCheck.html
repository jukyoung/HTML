<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>유효성 검사</title>
</head>
<body>
    <script>
        window.onload = function(){
            /*
              유효성 검사
              -> 클라이언트쪽에서 사용자의 입력값에 대해서 유효한 값인지 검사하고
              -> 유효하지 않다면 서버에 애초에 전송되지 않도록 알림을 띄줘주거나
              -> style 을 이용해 경고문구 띄워줌.
              -> 그리고 중간에 코드의 흐름을 막아주기 위해서는 return 이라는 키워드를 활용
            */
            let btnSubmit = document.getElementById("btnSubmit");
            btnSubmit.onclick = function(){
                let id = document.getElementById("id");
                let pw = document.getElementById("pw");
                let email = document.getElementById("email")
                // 아이디 값 유효성 검사 패턴
                let regexId = /^[a-zA-Z0-9]{6,10}$/; //플래그 안쓰는 이유 -> 한줄의 데이터를 입력하기 때문
                 // 패스워드 값 유효성 검사 패턴
                let regexPw =/^[a-zA-Z0-9!@#$]{6,15}$/;
                // 이메일 유효성 검사 패턴
                let regexEmail = /^[a-zA-z][\w]+@[a-zA-z]+\.(com|net|co\.kr|or\.kr)$/;
             if(!regexId.test(id.value)){ // 패턴에 일치하지 않는다면
                 alert("형식에 일치하지 않는 id 입니다.")
                 return; // -> return 이라는 키워드를 만나면 그 즉시 함수가 종료된다.
             }else if(!regexPw.test(pw.value)){
                 alert("비밀번호 형식에 일치하지 않습니다.")
                 return // -> submit 이 되지 않도록 막아주는 역할
             }else if(!regexEmail.test(email.value)){
                 alert("이메일 형식에 일치하지 않습니다.")
                 return
             }
              //submit() : form 태그를 기준으로 해서 해당 form을 서버에 
              // 제출하고 싶을때 사용하는 함수
              document.getElementById("joinForm").submit();
            }
        }
        

    </script>
    
    <form id="joinForm" action ="test.jsp" method="post">
    <div>
        <input type="text" id="id" name="id" placeholder="id입력">
        <sapn>아이디는 6~10자 이내의 영문자, 숫자만 사용이 가능합니다.</sapn>
    </div>
    <div>
        <input type="password" id="pw" name="pw" placeholder="pw입력">
        <span>비밀번호는 6~15자 이내의 영문자, 숫자, 특수문자만 사용 가능합니다.</span>
    </div>
    <div>
        <input type="text" id="email" name="email" placeholder="email 입력">
    </div>
    <button type="button" id="btnSubmit">회원가입</button>
</form>
</body>
</html>